# CASE MANAGER DAY - COMPREHENSIVE E2E TEST

## Test Scenario: Managing Maria Santos - High-Need Client

**Test Duration:** 45-60 minutes
**Covers:** ALL platform features in realistic workflow
**Client Profile:** Maria Santos, 34, complex needs requiring coordinated services

## CLIENT BACKGROUND (Test Data Setup)

**Maria Santos, 34:**
- 18 months clean from addiction
- Recently released from transitional housing program (30 days to find permanent housing)
- Expungement hearing scheduled next week
- Last employment: restaurant server (2019)
- Currently on SNAP, applying for Medicaid
- Has transportation (bus pass)
- Motivated but overwhelmed by multiple deadlines

**Current Challenges:**
- Housing: Must find permanent housing in 30 days
- Legal: Expungement hearing next Tuesday, needs documentation
- Employment: Needs job to qualify for housing programs
- Benefits: Medicaid application incomplete
- Mental Health: Anxiety about upcoming deadlines

## MORNING WORKFLOW (9:00 AM - 12:00 PM)

### Step 1: Case Manager Login & Daily Dashboard
```javascript
// Test: Login and load daily overview
await page.goto('/login');
await page.fill('[data-testid="username"]', 'casemanager_sarah');
await page.fill('[data-testid="password"]', 'test123');
await page.click('[data-testid="login-button"]');

// Verify dashboard loads with today's priorities
await expect(page.locator('[data-testid="priority-alerts"]')).toContainText('Court date tomorrow - Maria Santos');
await expect(page.locator('[data-testid="urgent-tasks"]')).toContainText('Housing deadline - 30 days');
```

### Step 2: Review Smart Reminders System
```javascript
// Test: Check AI-generated morning reminders
await page.click('[data-testid="reminders-tab"]');

// Verify reminders show integrated client needs
await expect(page.locator('[data-testid="reminder-item"]')).toContainText('Maria Santos: Court prep + housing search urgent');
await expect(page.locator('[data-testid="ai-suggestion"]')).toContainText('Recommend job search before housing applications');

// Mark reminder as acknowledged
await page.click('[data-testid="acknowledge-reminder"]');
```

### Step 3: Open Client Complete Profile
```javascript
// Test: Access integrated client dashboard
await page.click('[data-testid="client-search"]');
await page.fill('[data-testid="search-input"]', 'Maria Santos');
await page.click('[data-testid="client-result-maria"]');

// Verify complete client view loads all modules
await expect(page.locator('[data-testid="client-profile"]')).toBeVisible();
await expect(page.locator('[data-testid="housing-status"]')).toContainText('Transitional - 30 days remaining');
await expect(page.locator('[data-testid="legal-status"]')).toContainText('Expungement hearing: Next Tuesday');
await expect(page.locator('[data-testid="employment-status"]')).toContainText('Unemployed - Last job 2019');
await expect(page.locator('[data-testid="benefits-status"]')).toContainText('SNAP active, Medicaid pending');
```

### Step 4: AI Case Assistant Consultation
```javascript
// Test: Get AI recommendations for complex case
await page.click('[data-testid="ai-assistant-button"]');
await page.fill('[data-testid="ai-chat-input"]', 'Maria has court Tuesday and needs housing in 30 days. What should I prioritize today?');
await page.click('[data-testid="send-ai-message"]');

// Verify AI provides integrated recommendations
await expect(page.locator('[data-testid="ai-response"]')).toContainText('1. Job search first - employment improves housing applications');
await expect(page.locator('[data-testid="ai-response"]')).toContainText('2. Complete legal documentation for Tuesday');
await expect(page.locator('[data-testid="ai-response"]')).toContainText('3. Schedule housing appointments for this week');

// Test AI follow-up
await page.fill('[data-testid="ai-chat-input"]', 'What jobs would work for someone with restaurant experience and a pending expungement?');
await page.click('[data-testid="send-ai-message"]');
await expect(page.locator('[data-testid="ai-response"]')).toContainText('hospitality, retail, or warehouse positions');
```

### Step 5: Job Search for Client
```javascript
// Test: Search background-friendly employment
await page.click('[data-testid="job-search-tab"]');
await page.fill('[data-testid="job-keywords"]', 'server restaurant hospitality');
await page.fill('[data-testid="job-location"]', 'Los Angeles');
await page.check('[data-testid="background-friendly-filter"]');
await page.click('[data-testid="search-jobs-button"]');

// Verify background-friendly results appear
await expect(page.locator('[data-testid="job-results"]')).toContainText('Second chance employer');
await expect(page.locator('[data-testid="background-score"]')).toContainText('Background friendly: 85%');

// Save promising job for client
await page.click('[data-testid="save-job-0"]');
await page.fill('[data-testid="save-note"]', 'Good fit - restaurant experience matches, background-friendly policy');
await page.click('[data-testid="confirm-save"]');

// Verify job saved to client profile
await expect(page.locator('[data-testid="saved-jobs-count"]')).toContainText('1 saved job');
```

## MIDDAY WORKFLOW (12:00 PM - 3:00 PM)

### Step 6: Legal Services Coordination
```javascript
// Test: Manage expungement case
await page.click('[data-testid="legal-tab"]');

// Verify court date appears
await expect(page.locator('[data-testid="court-calendar"]')).toContainText('Expungement Hearing - Tuesday 9:00 AM');

// Check required documentation
await page.click('[data-testid="case-documents"]');
await expect(page.locator('[data-testid="doc-checklist"]')).toContainText('Employment history - Missing');
await expect(page.locator('[data-testid="doc-checklist"]')).toContainText('Character references - Pending');

// Add task reminder for missing documents
await page.click('[data-testid="add-legal-task"]');
await page.fill('[data-testid="task-description"]', 'Get employment history from previous employers for expungement');
await page.select('[data-testid="task-priority"]', 'High');
await page.fill('[data-testid="task-deadline"]', '2024-07-24'); // Before court date
await page.click('[data-testid="save-task"]');

// Schedule legal aid appointment
await page.click('[data-testid="schedule-legal-meeting"]');
await page.fill('[data-testid="appointment-date"]', '2024-07-23');
await page.fill('[data-testid="appointment-time"]', '10:00 AM');
await page.click('[data-testid="confirm-appointment"]');
```

### Step 7: Housing Search & Applications
```javascript
// Test: Find urgent housing options
await page.click('[data-testid="housing-tab"]');
await page.fill('[data-testid="housing-location"]', 'Los Angeles');
await page.select('[data-testid="housing-type"]', 'Permanent');
await page.check('[data-testid="recovery-friendly"]');
await page.fill('[data-testid="max-rent"]', '800');
await page.click('[data-testid="search-housing"]');

// Verify appropriate results
await expect(page.locator('[data-testid="housing-results"]')).toContainText('Recovery-friendly');
await expect(page.locator('[data-testid="housing-results"]')).toContainText('$600-800/month');

// Start housing application
await page.click('[data-testid="apply-housing-0"]');
await page.fill('[data-testid="applicant-name"]', 'Maria Santos');
await page.fill('[data-testid="current-income"]', '0 - applying for employment');
await page.check('[data-testid="has-references"]');
await page.click('[data-testid="submit-application"]');

// Add follow-up reminder
await expect(page.locator('[data-testid="application-submitted"]')).toBeVisible();
await page.click('[data-testid="set-followup"]');
await page.fill('[data-testid="followup-date"]', '2024-07-25');
await page.fill('[data-testid="followup-note"]', 'Check housing application status');
await page.click('[data-testid="save-followup"]');
```

### Step 8: Benefits Navigation Support
```javascript
// Test: Complete Medicaid application
await page.click('[data-testid="benefits-tab"]');

// Check current benefits status
await expect(page.locator('[data-testid="snap-status"]')).toContainText('Active');
await expect(page.locator('[data-testid="medicaid-status"]')).toContainText('Application incomplete');

// Complete Medicaid application
await page.click('[data-testid="complete-medicaid"]');
await page.fill('[data-testid="household-size"]', '1');
await page.fill('[data-testid="monthly-income"]', '0');
await page.check('[data-testid="homeless-status"]');
await page.click('[data-testid="submit-medicaid"]');

// Search for additional benefits
await page.click('[data-testid="search-additional-benefits"]');
await expect(page.locator('[data-testid="benefit-suggestions"]')).toContainText('Emergency rental assistance');
await expect(page.locator('[data-testid="benefit-suggestions"]')).toContainText('Transportation vouchers');

// Apply for transportation assistance
await page.click('[data-testid="apply-transportation"]');
await page.fill('[data-testid="transport-need"]', 'Job interviews and court appearance');
await page.click('[data-testid="submit-transport-request"]');
```

## AFTERNOON WORKFLOW (3:00 PM - 5:00 PM)

### Step 9: Social Services Coordination
```javascript
// Test: Find additional support services
await page.click('[data-testid="services-tab"]');
await page.fill('[data-testid="service-search"]', 'mental health counseling addiction recovery');
await page.fill('[data-testid="service-location"]', 'Los Angeles');
await page.click('[data-testid="search-services"]');

// Verify relevant services found
await expect(page.locator('[data-testid="service-results"]')).toContainText('Recovery support groups');
await expect(page.locator('[data-testid="service-results"]')).toContainText('Anxiety counseling');

// Make referral
await page.click('[data-testid="refer-service-0"]');
await page.fill('[data-testid="referral-reason"]', 'Anxiety about court date and housing deadline - needs coping support');
await page.select('[data-testid="referral-urgency"]', 'This week');
await page.click('[data-testid="submit-referral"]');
```

### Step 10: Task Management & Notes
```javascript
// Test: Comprehensive case notes and task tracking
await page.click('[data-testid="notes-tab"]');

// Add comprehensive case note
await page.click('[data-testid="add-case-note"]');
await page.fill('[data-testid="note-content"]', `
Case Update - Maria Santos:
- Housing: Applied to recovery-friendly option, 30-day deadline critical
- Legal: Expungement Tuesday, missing employment documentation  
- Employment: Saved 3 background-friendly restaurant positions
- Benefits: Medicaid application completed, transportation request submitted
- Mental Health: Referred for anxiety support before court date
- Next steps: Follow up on job applications, gather legal documents
`);
await page.select('[data-testid="note-type"]', 'Comprehensive Update');
await page.click('[data-testid="save-note"]');

// Review all active tasks
await page.click('[data-testid="tasks-tab"]');
await expect(page.locator('[data-testid="active-tasks"]')).toContainText('Get employment history for expungement');
await expect(page.locator('[data-testid="active-tasks"]')).toContainText('Check housing application status');
await expect(page.locator('[data-testid="active-tasks"]')).toContainText('Follow up on job applications');

// Mark task as in progress
await page.click('[data-testid="task-employment-history"]');
await page.select('[data-testid="task-status"]', 'In Progress');
await page.fill('[data-testid="task-update"]', 'Called previous employers, waiting for callbacks');
await page.click('[data-testid="update-task"]');
```

### Step 11: Team Coordination
```javascript
// Test: Supervisor communication and team updates
await page.click('[data-testid="team-tab"]');

// Send update to supervisor
await page.click('[data-testid="message-supervisor"]');
await page.fill('[data-testid="supervisor-message"]', `
Maria Santos update: Multiple deadlines this week
- Court Tuesday (ready except missing docs)
- Housing deadline 30 days (application submitted)
- Employment search active (3 prospects)
May need backup plan if housing falls through. Recommend priority status.
`);
await page.click('[data-testid="send-supervisor-message"]');

// Check for team notifications
await expect(page.locator('[data-testid="team-notifications"]')).toContainText('Legal aid coordinator available for document help');
```

### Step 12: AI Progress Analysis
```javascript
// Test: AI assessment of case progress
await page.click('[data-testid="ai-assistant-button"]');
await page.fill('[data-testid="ai-chat-input"]', 'Analyze Maria Santos progress today and recommend next priorities');
await page.click('[data-testid="send-ai-message"]');

// Verify AI provides comprehensive analysis
await expect(page.locator('[data-testid="ai-response"]')).toContainText('Progress made: Housing application, benefits completion, job prospects identified');
await expect(page.locator('[data-testid="ai-response"]')).toContainText('Critical gap: Legal documentation for Tuesday court date');
await expect(page.locator('[data-testid="ai-response"]')).toContainText('Recommend: Priority focus on employment history gathering tomorrow');

// Get AI scheduling suggestions
await page.fill('[data-testid="ai-chat-input"]', 'Schedule optimal plan for tomorrow to finish court prep');
await page.click('[data-testid="send-ai-message"]');
await expect(page.locator('[data-testid="ai-response"]')).toContainText('Morning: Employment history calls');
await expect(page.locator('[data-testid="ai-response"]')).toContainText('Afternoon: Legal aid meeting document review');
```

## END-OF-DAY SUMMARY (5:00 PM)

### Step 13: Daily Wrap-up & Tomorrow's Priorities
```javascript
// Test: Generate end-of-day summary
await page.click('[data-testid="daily-summary"]');

// Verify comprehensive daily summary
await expect(page.locator('[data-testid="summary-client"]')).toContainText('Maria Santos');
await expect(page.locator('[data-testid="summary-actions"]')).toContainText('6 actions completed');
await expect(page.locator('[data-testid="summary-actions"]')).toContainText('Housing application submitted');
await expect(page.locator('[data-testid="summary-actions"]')).toContainText('3 jobs saved for client');
await expect(page.locator('[data-testid="summary-actions"]')).toContainText('Medicaid application completed');
await expect(page.locator('[data-testid="summary-actions"]')).toContainText('Mental health referral made');

// Review tomorrow's auto-generated priorities
await expect(page.locator('[data-testid="tomorrow-priorities"]')).toContainText('1. Complete legal documentation for Tuesday court');
await expect(page.locator('[data-testid="tomorrow-priorities"]')).toContainText('2. Follow up on housing application');
await expect(page.locator('[data-testid="tomorrow-priorities"]')).toContainText('3. Schedule job interviews');

// Set tomorrow's reminders
await page.click('[data-testid="set-tomorrow-reminders"]');
await expect(page.locator('[data-testid="reminder-confirmation"]')).toContainText('3 reminders set for tomorrow');
```

## SUCCESS CRITERIA

**Platform Integration Test:**
- [ ] All modules accessed from single client dashboard
- [ ] AI assistant provides contextual help throughout workflow
- [ ] Smart reminders integrate data from all systems
- [ ] Tasks and notes connect to specific client actions
- [ ] Team coordination works seamlessly
- [ ] Mobile interface supports full workflow

**Realistic Case Management Test:**
- [ ] Complex client needs addressed systematically
- [ ] Multiple deadlines tracked and prioritized
- [ ] All services coordinated around client goals
- [ ] Progress documented comprehensively
- [ ] Case manager can handle 20+ similar clients efficiently

**Technical Performance Test:**
- [ ] Complete workflow completes in under 60 minutes
- [ ] No system timeouts or failures
- [ ] All databases update correctly
- [ ] Mobile and desktop versions work identically
- [ ] AI responses under 10 seconds
- [ ] Real-time updates across team members

This E2E test verifies the platform can handle the complex, coordinated case management that social workers need for high-need clients like Maria Santos.01111111111111111111111111111111111111111111111111111111111111111111111111111111